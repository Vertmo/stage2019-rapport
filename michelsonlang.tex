\lstdefinelanguage{michelson}{%
   columns=fullflexible,%
   basicstyle=\tt ,
   % keywordstyle=\bfseries,
   commentstyle=\slshape,%
   keywords={%
     \{,\},
     DROP, DUP, DIG, DUG, SWAP, PUSH, SOME, NONE, UNIT, IF_NONE,%
   PAIR, CAR, CDR, LEFT, RIGHT, IF_LEFT, IF_RIGHT, NIL,%
   CONS, IF_CONS, SIZE, EMPTY_SET, EMPTY_MAP, MAP, ITER,%
   MEM, GET, UPDATE, IF, LOOP, LOOP_LEFT, LAMBDA, EXEC,%
   DIP, FAILWITH, CAST, RENAME, CONCAT, SLICE, PACK,%
   UNPACK, ADD, SUB, MUL, EDIV, ABS, NEG, LSL, LSR,%
   OR, AND, XOR, NOT, COMPARE, EQ, NEQ, LT, GT, LE,%
   GE, SELF, CONTRACT, TRANSFER_TOKENS, SET_DELEGATE,%
   CREATE_ACCOUNT, CREATE_CONTRACT, CREATE_CONTRACT,%
   IMPLICIT_ACCOUNT, NOW, AMOUNT, BALANCE, CHECK_SIGNATURE,%
   BLAKE, SHA, SHA, HASH_KEY, STEPS_TO_QUOTA, SOURCE,%
   SENDER, ADDRESS,%
   CMPEQ,CMPNEQ,CMPLT,CMPGT,CMPLE,CMPGE,%
   IFEQ,IFNEQ,IFLT,IFGT,IFLE,IFGE,%
   IFCMPEQ,IFCMPNEQ,IFCMPLT,IFCMPGT,IFCMPLE,IFCMPGE,%
   FAIL,%
   ASSERT,%
   ASSERT_EQ,ASSERT_NEQ,ASSERT_LT,ASSERT_LE,ASSERT_GT,ASSERT_GE,%
   ASSERT_CMPEQ,ASSERT_CMPNEQ,ASSERT_CMPLT,ASSERT_CMPLE,ASSERT_CMPGT,ASSERT_CMPGE,%
   ASSERT_NONE,ASSERT_SOME,%
   ASSERT_LEFT,ASSERT_RIGHT,%
   UNPAIR,%
   DIIP,DIIIP,
   CADR,CDAR,CDDAR,CDDDR,MAP_CDR,
   BLAKE2B
   },%
   alsoletter={'},
   upquote=true,
   keywordstyle={\color{purple}\sffamily},%
   morekeywords=[2]{%
     key, unit, signature, option, list, set, operation, address,%
     contract, pair, or, lambda, big_map, map,%
     int, nat, string, bytes, mutez, bool, key_hash, %
     timestamp, 'a, 'b, 'S, 'p%
   },%
   keywordstyle=[2]{\color{purple}\ttfamily},%
   classoffset=2,%
   morekeywords=[3]{%
     storage, parameter, code %
   },%
   keywordstyle=[3]{\bfseries},%
   sensitive,%
   comment=[l]\#,%
   morestring=[d]",%"
   literate={->}{{$\rightarrow$}}1%
}[keywords,comments,strings]%

\lstMakeShortInline[language=michelson]!
